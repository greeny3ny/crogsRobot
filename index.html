<!DOCTYPE html>

	<head>
		<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
		<script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
		
		<title>Crogbot V1</title>
		<link href="style.css" rel="stylesheet"/>
	</head>

	<body>
		<h1>CrogBot V1</h1>
	
		<p id="test11">Welcome to A.L.F control</p>
		<p>A.L.F is still being born, stand by!</p>
		<p>Their name might even change, we can't decide on a name</p>
		
		<p> Latest update : CSS </p>
		
		<table id="#t1"style="width:100%" >
			<tr>
				<td>
					<table style="width:50%" border="3">
						<tr>
							<td>Forwards</td>
							<td><input id="clickMe" type="button" value="Click" onclick="moveForwards();" /></td>
							<td><p id="for">---------------------------</p></td>
						</tr>
						<tr>
							<td>Backwards</td>
							<td><input id="clickMe" type="button" value="Click" onclick="moveBackwards();" /></td>
							<td><p id="bac">---------------------------</p></td>
						</tr>
						<tr>
							<td>Right Turn</td>
							<td><input id="clickMe" type="button" value="Click" onclick="rightTurn();" /></td>
							<td><p id="ritu">---------------------------</p></td>
						</tr>
						<tr>
							<td>Left Turn</td>
							<td><input id="clickMe" type="button" value="Click" onclick="leftTurn();" /></td>
							<td><p id="letu">---------------------------</p></td>
						</tr>
						<tr>
							<td>Honk Horn</td>
							<td><input id="clickMe" type="button" value="Click" onclick="honkHorn();" /></td>
							<td><p id="horn">---------------------------</p></td>
						</tr>
					</table>
				</td>
				<td>
					<!-- 
						rPleicjySdI - Stand by
						I9z0LvoFqHg - Happy Altspace
					--->
					<iframe width="560" height="315" src="https://www.youtube.com/embed/PYgh2mudf6I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
				</td>
			</tr>
			<tr>
				<td></td>
				<td><p id="status"> Current status : </p></td>
			</tr>
		</table>
		
	</body>
		
</html>

<script>

	var config = {
		apiKey: "AIzaSyA6pk5vRkVWlQRXKOjLJ_khMUMvGnTzlkQ",
		authDomain: "crogobot.firebaseapp.com",
		databaseURL: "https://crogobot.firebaseio.com",
		projectId: "crogobot",
		storageBucket: "",
		messagingSenderId: "345603303322"
	};
	firebase.initializeApp(config);

	const DB_REF = new Firebase("https://crogobot.firebaseio.com");
	
	document.getElementById("for").innerHTML = "Moving forward";


	readFirebase();
	
	function moveForwards(){
		document.getElementById("for").innerHTML = "Moving forward";
		
		DB_REF.update({cont: "up"});
		
		setTimeout(function test(){
			document.getElementById("for").innerHTML = "---------------------------";
			DB_REF.update({cont: "stop"});
		},2000);
	}
	
	function moveBackwards(){
		document.getElementById("bac").innerHTML = "Moving backwards";
		DB_REF.update({cont: "down"});
		setTimeout(function test(){
			document.getElementById("bac").innerHTML = "---------------------------";
			DB_REF.update({cont: "stop"});
		},2000);
	}
	
	function rightTurn(){
		document.getElementById("ritu").innerHTML = "Turning right";
		DB_REF.update({cont: "right"});
		setTimeout(function test(){
			document.getElementById("ritu").innerHTML = "---------------------------";
			DB_REF.update({cont: "stop"});
		},2000);
	}
	
	function leftTurn(){
		document.getElementById("letu").innerHTML = "Turning left";
		DB_REF.update({cont: "left"});
		setTimeout(function test(){
			document.getElementById("letu").innerHTML = "---------------------------";
			DB_REF.update({cont: "stop"});
		},2000);
	}
	
	function honkHorn(){
		document.getElementById("horn").innerHTML = "Honking horn";
		DB_REF.update({cont: "horn"});
		setTimeout(function test(){
			document.getElementById("horn").innerHTML = "---------------------------";
			DB_REF.update({cont: "stop"});
		},2000);
	}
	
	function readFirebase(){
		console.log("reading firebase...");
		DB_REF.child("cont").on("value", function(snapshot){
			console.log(snapshot.val());
			var st = snapshot.val(); 
			document.getElementById("status").innerHTML = "Current status : " + st;
		});
	}
	
	function doFunction(){}

	
	
</script>